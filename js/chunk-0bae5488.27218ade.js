(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bae5488"],{"0bb3":function(e,t,c){},"5d51":function(e,t,c){"use strict";c("d3b7"),c("d9e2");var n=c("7a23"),o=c("7093"),a=document.createElement("div");a.setAttribute("class","go-confirm-container"),document.body.appendChild(a),t["a"]=function(e){var t=e.title,c=e.text;return new Promise((function(e,r){var l=function(){Object(n["render"])(null,a),r(new Error("點擊取消"))},d=function(){Object(n["render"])(null,a),e()},i=Object(n["createVNode"])(o["default"],{title:t,text:c,cancelCallback:l,submitCallback:d});Object(n["render"])(i,a)}))}},6965:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),o=function(e){return Object(n["pushScopeId"])("data-v-9bf99ac4"),e=e(),Object(n["popScopeId"])(),e},a=Object(n["createTextVNode"])("我的購物車"),r={class:"container position-relative"},l=Object(n["createTextVNode"])("首頁"),d=Object(n["createTextVNode"])("購物車"),i=Object(n["createStaticVNode"])('<ul class="row g-0 list-unstyled rounded-0 p-2 carts-list text-nowrap border-bottom border-2 mb-0" data-v-9bf99ac4><li class="col-3 col-md-5" data-v-9bf99ac4>商品資訊</li><li class="col-1 d-none d-md-block" data-v-9bf99ac4>單價</li><li class="col-5 col-md-3" data-v-9bf99ac4>數量</li><li class="col-2 col-md-1" data-v-9bf99ac4>小計</li><li class="col-2" data-v-9bf99ac4>操作</li></ul>',1),s={class:"list-group list-group-flush shadow-sm mb-4"},u={key:0,class:"list-group-item p-2"},b={class:"col-12"},m=["src"],p={class:"ellipsis col-3 col-md-3 text-start my-auto"},j={class:"col-1 d-none d-md-block"},O={class:"col-5 col-md-3 d-flex justify-content-center"},f={class:"col-2 col-md-1"},v={class:"col-2"},N=["onClick"],V={class:"spinner-border spinner-border-sm",role:"status"},h={class:"row action"},C=["disabled"],g=o((function(){return Object(n["createElementVNode"])("p",{class:"d-none d-md-block my-auto"},"清空購物車",-1)})),k=o((function(){return Object(n["createElementVNode"])("p",{class:"d-block d-md-none my-auto"},"清空",-1)})),y=[g,k],E={class:"col-10 total d-flex justify-content-end"},w={class:"d-none d-md-block my-auto"},x={class:"my-auto"},D=Object(n["createTextVNode"])(" 合計："),B={class:"red"},I=["disabled"];function S(e,t,c,o,g,k){var S,_,L,$,A=Object(n["resolveComponent"])("GoBanner"),G=Object(n["resolveComponent"])("GoBreadItem"),T=Object(n["resolveComponent"])("GoBread"),Q=Object(n["resolveComponent"])("Loading"),F=Object(n["resolveComponent"])("CartNone"),J=Object(n["resolveComponent"])("RouterLink"),q=Object(n["resolveComponent"])("GoNumbox");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(A,{title:"shop"},{default:Object(n["withCtx"])((function(){return[a]})),_:1}),Object(n["createElementVNode"])("div",r,[Object(n["createVNode"])(T,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(G,{to:"/"},{default:Object(n["withCtx"])((function(){return[l]})),_:1}),Object(n["createVNode"])(G,null,{default:Object(n["withCtx"])((function(){return[d]})),_:1})]})),_:1}),Object(n["createVNode"])(Q,{active:o.isLoading,"is-full-page":!1},null,8,["active"]),i,Object(n["createElementVNode"])("ul",s,[0===o.cartData.carts.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",u,[Object(n["createElementVNode"])("div",b,[Object(n["createVNode"])(F)])])):Object(n["createCommentVNode"])("",!0),o.cartData.carts.length>0?(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],{key:1},Object(n["renderList"])(o.cartData.carts,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"list-group-item p-2",key:t.id},[Object(n["createVNode"])(J,{to:"/product/".concat(t.product.id),class:"col-md-2 d-none d-md-block"},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("img",{class:"product-img",src:t.product.imageUrl,alt:""},null,8,m)]})),_:2},1032,["to"]),Object(n["createElementVNode"])("p",p,Object(n["toDisplayString"])(t.product.title),1),Object(n["createElementVNode"])("div",j,Object(n["toDisplayString"])(e.$currency(t.product.price)),1),Object(n["createElementVNode"])("div",O,[Object(n["createVNode"])(q,{onChange:function(e){return o.updateCount(t.id,e)},modelValue:t.qty},null,8,["onChange","modelValue"])]),Object(n["createElementVNode"])("div",f,Object(n["toDisplayString"])(e.$currency(t.total)),1),Object(n["createElementVNode"])("div",v,[Object(n["withDirectives"])(Object(n["createElementVNode"])("i",{class:"material-icons-outlined",onClick:function(e){return o.removeCartItem(t.id)}},"close",8,N),[[n["vShow"],o.isLoadingItem!==t.id]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",V,null,512),[[n["vShow"],o.isLoadingItem===t.id]])])])})),128)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",h,[Object(n["createElementVNode"])("button",{type:"btn",class:"col-2 btn btn-outline-danger",disabled:0===(null===(S=o.cartData)||void 0===S||null===(_=S.carts)||void 0===_?void 0:_.length),onClick:t[0]||(t[0]=function(){return o.clearAllCarts&&o.clearAllCarts.apply(o,arguments)})},y,8,C),Object(n["createElementVNode"])("div",E,[Object(n["createElementVNode"])("p",w,"共 "+Object(n["toDisplayString"])(o.totalQty)+" 件商品，",1),Object(n["createElementVNode"])("p",x,[D,Object(n["createElementVNode"])("span",B,"$"+Object(n["toDisplayString"])(e.$currency(o.cartData.final_total)),1)]),Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-primary",disabled:0===(null===(L=o.cartData)||void 0===L||null===($=L.carts)||void 0===$?void 0:$.length),onClick:t[1]||(t[1]=function(t){return e.$router.push("/checkout")})}," 下單結帳 ",8,I)])])])],64)}var _=c("5502"),L=c("8474"),$=c.n(L),A=function(e){return Object(n["pushScopeId"])("data-v-04db4582"),e=e(),Object(n["popScopeId"])(),e},G={class:"cart-none"},T=A((function(){return Object(n["createElementVNode"])("img",{src:$.a,alt:""},null,-1)})),Q=A((function(){return Object(n["createElementVNode"])("p",null,"購物車内沒有商品唷",-1)}));function F(e,t,c,o,a,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",G,[T,Q,Object(n["createElementVNode"])("a",{href:"#",class:"btn btn-primary",onClick:t[0]||(t[0]=Object(n["withModifiers"])((function(t){return e.$router.push("/products")}),["prevent"]))}," 繼續逛逛 ")])}var J={name:"CartNone"},q=(c("e471"),c("6b0d")),M=c.n(q);const P=M()(J,[["render",F],["__scopeId","data-v-04db4582"]]);var R=P,U=c("5d51"),z=c("2f59"),H={name:"Cart",components:{CartNone:R},setup:function(){var e=Object(n["ref"])(!0),t=Object(n["ref"])(""),c=Object(_["b"])();c.dispatch("cart/findCart").then((function(){e.value=!1}));var o=Object(n["computed"])((function(){return c.state.cart.cartData})),a=function(e){Object(U["a"])({text:"您確定要刪除該項商品嗎"}).then((function(){t.value=e,c.dispatch("cart/removeCart",e).then((function(){Object(z["a"])({type:"success",text:"已成功刪除"}),t.value=""}))})).catch((function(e){}))},r=function(){Object(U["a"])({text:"您確定要刪除所有商品嗎"}).then((function(){e.value=!0,c.dispatch("cart/clearAllCarts").then((function(){Object(z["a"])({type:"success",text:"已成功刪除"}),e.value=!1}))})).catch((function(e){}))},l=function(e,n){t.value=e,c.dispatch("cart/updateCart",{prodcutId:e,count:n}).then((function(){t.value=""}))};return{isLoading:e,isLoadingItem:t,cartData:o,removeCartItem:a,clearAllCarts:r,updateCount:l,totalQty:Object(n["computed"])((function(){return c.getters["cart/totalQty"]}))}}};c("b2f4");const K=M()(H,[["render",S],["__scopeId","data-v-9bf99ac4"]]);t["default"]=K},8474:function(e,t,c){e.exports=c.p+"img/none.a7da9ce9.png"},b2f4:function(e,t,c){"use strict";c("fa0c")},e471:function(e,t,c){"use strict";c("0bb3")},fa0c:function(e,t,c){}}]);
//# sourceMappingURL=chunk-0bae5488.27218ade.js.map