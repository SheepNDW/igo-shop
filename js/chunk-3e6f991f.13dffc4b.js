(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e6f991f"],{2838:function(e,t,c){"use strict";c("f713")},9501:function(e,t,c){"use strict";var n=c("7a23"),r={class:"pay-step p-3"};function a(e,t,c,a,l,o){var i=Object(n["resolveComponent"])("GoStepsItem"),s=Object(n["resolveComponent"])("GoSteps");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",r,[Object(n["createVNode"])(s,{active:c.activeIndex},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{title:"確認訂單"}),Object(n["createVNode"])(i,{title:"進行付款"}),Object(n["createVNode"])(i,{title:"完成購買"})]})),_:1},8,["active"])])}c("a9e3");var l={name:"PayStep",props:{activeIndex:{type:Number,default:1}}},o=c("6b0d"),i=c.n(o);const s=i()(l,[["render",a]]);t["a"]=s},a8b3:function(e,t,c){"use strict";c.r(t);c("b0c0");var n=c("7a23"),r=function(e){return Object(n["pushScopeId"])("data-v-26688299"),e=e(),Object(n["popScopeId"])(),e},a=Object(n["createTextVNode"])("結帳流程"),l={class:"container mt-3"},o={class:"row g-0 bg-white rounded justify-content-between flex-md-row-reverse p-3 mt-4 mb-4 shadow-sm",style:{position:"relative","min-height":"50vh"}},i={key:0,class:"col-md-6 col-lg-5 px-3 mt-3"},s=r((function(){return Object(n["createElementVNode"])("h2",{class:"h2 mb-3"},"購買明細",-1)})),d={class:"list-unstyled"},u={class:"col px-3 d-flex"},b={class:"col-7 pe-2"},m={class:"ellipsis m-0"},p={class:"text-muted"},j={class:"col-5 ls-1 text-end"},O={class:"text-end"},f=Object(n["createTextVNode"])(" 總金額：NT$ "),N={class:"fs-4"},V={key:1,class:"col-md-6 p-3"},E=r((function(){return Object(n["createElementVNode"])("h2",{class:"h2"},"購買人資訊",-1)})),v={class:"list-unstyled"},g={class:"list-group-item"},y=r((function(){return Object(n["createElementVNode"])("small",null,"購買人姓名",-1)})),k={class:"list-group-item"},h=r((function(){return Object(n["createElementVNode"])("small",null,"Email",-1)})),x={class:"list-group-item"},S=r((function(){return Object(n["createElementVNode"])("small",null,"連絡電話",-1)})),B={class:"list-group-item"},w=r((function(){return Object(n["createElementVNode"])("small",null,"收件地址",-1)})),C={class:"list-group-item"},D=r((function(){return Object(n["createElementVNode"])("small",null,"備註",-1)})),I={class:"list-group-item"},P=r((function(){return Object(n["createElementVNode"])("small",null,"付款狀態",-1)})),_={key:0,class:"text-success"},L={key:1,class:"text-danger"},T={class:"list-group-item"},$=r((function(){return Object(n["createElementVNode"])("small",null,"支付方式",-1)})),G={class:"d-flex justify-content-between"};function F(e,t,c,r,F,J){var q=Object(n["resolveComponent"])("GoBanner"),z=Object(n["resolveComponent"])("PayStep"),M=Object(n["resolveComponent"])("Loading");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(q,{title:"shop"},{default:Object(n["withCtx"])((function(){return[a]})),_:1}),Object(n["createElementVNode"])("div",l,[Object(n["createVNode"])(z,{activeIndex:2}),Object(n["createElementVNode"])("div",o,[Object(n["createVNode"])(M,{active:r.isLoading,"is-full-page":!1},null,8,["active"]),r.order?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",i,[s,Object(n["createElementVNode"])("ul",d,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.order.products,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"d-flex align-items-center mb-4",key:t.id},[Object(n["createElementVNode"])("div",{class:"bg-img",style:Object(n["normalizeStyle"])({"background-image":"url(".concat(t.product.imageUrl,")")})},null,4),Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("p",m,Object(n["toDisplayString"])(t.product.title),1),Object(n["createElementVNode"])("small",p,"數量："+Object(n["toDisplayString"])(t.qty),1)]),Object(n["createElementVNode"])("div",j," NT$ "+Object(n["toDisplayString"])(e.$currency(t.total)),1)])])})),128))]),Object(n["createElementVNode"])("div",O,[f,Object(n["createElementVNode"])("span",N,Object(n["toDisplayString"])(e.$currency(Math.round(r.order.total))),1)])])):Object(n["createCommentVNode"])("",!0),r.order?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",V,[E,Object(n["createElementVNode"])("ul",v,[Object(n["createElementVNode"])("li",g,[y,Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(r.order.user.name),1)]),Object(n["createElementVNode"])("li",k,[h,Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(r.order.user.email),1)]),Object(n["createElementVNode"])("li",x,[S,Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(r.order.user.tel),1)]),Object(n["createElementVNode"])("li",B,[w,Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(r.order.user.address),1)]),Object(n["createElementVNode"])("li",C,[D,Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(r.order.message),1)]),Object(n["createElementVNode"])("li",I,[P,r.order.is_paid?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",_,"已付款")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",L,"尚未付款"))]),Object(n["createElementVNode"])("li",T,[$,Object(n["createElementVNode"])("div",G,[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(r.order.user.payment_method),1),Object(n["createElementVNode"])("button",{onClick:t[0]||(t[0]=function(){return r.handlerPayment&&r.handlerPayment.apply(r,arguments)}),type:"button",class:"btn btn-primary"}," 前往付款 ")])])])])):Object(n["createCommentVNode"])("",!0)])])],64)}var J=c("9501"),q=c("6c02"),z=c("f8b7"),M={name:"PayOrder",components:{PayStep:J["a"]},setup:function(){var e=Object(n["ref"])(!0),t=Object(q["c"])(),c=Object(n["ref"])(null);Object(z["d"])(t.params.id).then((function(t){c.value=t.order,e.value=!1}));var r=Object(q["d"])(),a=function(){e.value=!0,Object(z["f"])(t.params.id).then((function(){r.push("/checkout/result/".concat(t.params.id)),e.value=!1}))};return{isLoading:e,order:c,handlerPayment:a}}},U=(c("2838"),c("6b0d")),A=c.n(U);const H=A()(M,[["render",F],["__scopeId","data-v-26688299"]]);t["default"]=H},f713:function(e,t,c){},f8b7:function(e,t,c){"use strict";c.d(t,"b",(function(){return a})),c.d(t,"d",(function(){return l})),c.d(t,"f",(function(){return o})),c.d(t,"e",(function(){return i})),c.d(t,"g",(function(){return s})),c.d(t,"c",(function(){return d})),c.d(t,"a",(function(){return u}));c("99af");var n=c("b775"),r="".concat("sheep-api"),a=function(e){return Object(n["a"])("/api/".concat(r,"/order"),"post",{data:e})},l=function(e){return Object(n["a"])("/api/".concat(r,"/order/").concat(e),"get")},o=function(e){return Object(n["a"])("/api/".concat(r,"/pay/").concat(e),"post")},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(n["a"])("/api/".concat(r,"/admin/orders?page=").concat(e),"get")},s=function(e){return Object(n["a"])("/api/".concat(r,"/admin/order/").concat(e.id),"put",{data:e})},d=function(e){return Object(n["a"])("/api/".concat(r,"/admin/order/").concat(e),"delete")},u=function(){return Object(n["a"])("/api/".concat(r,"/admin/orders/all"),"delete")}}}]);
//# sourceMappingURL=chunk-3e6f991f.13dffc4b.js.map