{"version":3,"sources":["webpack:///./src/components/library/Confirm.js","webpack:///./src/views/front/cart/Index.vue","webpack:///./src/views/front/cart/components/CartNone.vue","webpack:///./src/views/front/cart/components/CartNone.vue?7b6c","webpack:///./src/views/front/cart/Index.vue?05df","webpack:///./src/assets/images/none.png","webpack:///./src/views/front/cart/Index.vue?60d9","webpack:///./src/views/front/cart/components/CartNone.vue?8dd1"],"names":["div","document","createElement","setAttribute","body","appendChild","title","text","Promise","resolve","reject","cancelCallback","render","Error","submitCallback","vnode","createVNode","GoConfirm","class","role","_createElementVNode","_hoisted_19","_hoisted_20","_createVNode","_component_GoBanner","_component_GoBread","_component_GoBreadItem","to","_component_Loading","active","$setup","is-full-page","_hoisted_5","carts","length","_createElementBlock","_component_CartNone","_Fragment","key","_renderList","item","id","_component_RouterLink","product","src","imageUrl","alt","_toDisplayString","_ctx","price","_component_GoNumbox","onChange","$event","modelValue","qty","total","onClick","_hoisted_15","type","disabled","cartData","final_total","push","_hoisted_27","_imports_0","_hoisted_2","_hoisted_3","href","name","__exports__","components","CartNone","setup","isLoading","ref","isLoadingItem","store","useStore","dispatch","then","value","computed","state","cart","removeCartItem","Confirm","Message","catch","e","clearAllCarts","updateCount","prodcutId","count","totalQty","getters","module","exports"],"mappings":"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","file":"js/chunk-0bae5488.27218ade.js","sourcesContent":["import { createVNode, render } from 'vue'\r\nimport GoConfirm from './go-confirm.vue'\r\n\r\n// 準備一個DOM\r\nconst div = document.createElement('div')\r\ndiv.setAttribute('class', 'go-confirm-container')\r\ndocument.body.appendChild(div)\r\n\r\n// 返回一個Promise物件, 點取消或確認都要銷毀元件\r\nexport default ({ title, text }) => {\r\n  return new Promise((resolve, reject) => {\r\n    const cancelCallback = () => {\r\n      render(null, div)\r\n      reject(new Error('點擊取消'))\r\n    }\r\n    const submitCallback = () => {\r\n      render(null, div)\r\n      resolve()\r\n    }\r\n\r\n    const vnode = createVNode(GoConfirm, { title, text, cancelCallback, submitCallback })\r\n    render(vnode, div)\r\n  })\r\n}\r\n","<template>\r\n  <GoBanner title=\"shop\">我的購物車</GoBanner>\r\n  <div class=\"container position-relative\">\r\n    <!-- 麵包屑 -->\r\n    <GoBread>\r\n      <GoBreadItem to=\"/\">首頁</GoBreadItem>\r\n      <GoBreadItem>購物車</GoBreadItem>\r\n    </GoBread>\r\n    <!-- loading 元件 -->\r\n    <Loading :active=\"isLoading\" :is-full-page=\"false\" />\r\n    <!-- 購物清單 -->\r\n    <ul\r\n      class=\"row g-0 list-unstyled rounded-0 p-2 carts-list text-nowrap border-bottom border-2 mb-0\"\r\n    >\r\n      <li class=\"col-3 col-md-5\">商品資訊</li>\r\n      <li class=\"col-1 d-none d-md-block\">單價</li>\r\n      <li class=\"col-5 col-md-3\">數量</li>\r\n      <li class=\"col-2 col-md-1\">小計</li>\r\n      <li class=\"col-2\">操作</li>\r\n    </ul>\r\n    <ul class=\"list-group list-group-flush shadow-sm mb-4\">\r\n      <!-- 購物車為空 -->\r\n      <li class=\"list-group-item p-2\" v-if=\"cartData.carts.length === 0\">\r\n        <div class=\"col-12\">\r\n          <CartNone />\r\n        </div>\r\n      </li>\r\n      <!-- 購物車有商品 -->\r\n      <template v-if=\"cartData.carts.length > 0\">\r\n        <li\r\n          class=\"list-group-item p-2\"\r\n          v-for=\"item in cartData.carts\"\r\n          :key=\"item.id\"\r\n        >\r\n          <RouterLink\r\n            :to=\"`/product/${item.product.id}`\"\r\n            class=\"col-md-2 d-none d-md-block\"\r\n          >\r\n            <img class=\"product-img\" :src=\"item.product.imageUrl\" alt=\"\" />\r\n          </RouterLink>\r\n          <p class=\"ellipsis col-3 col-md-3 text-start my-auto\">\r\n            {{ item.product.title }}\r\n          </p>\r\n          <div class=\"col-1 d-none d-md-block\">\r\n            {{ $currency(item.product.price) }}\r\n          </div>\r\n          <div class=\"col-5 col-md-3 d-flex justify-content-center\">\r\n            <GoNumbox\r\n              @change=\"($event) => updateCount(item.id, $event)\"\r\n              :modelValue=\"item.qty\"\r\n            />\r\n          </div>\r\n          <div class=\"col-2 col-md-1\">{{ $currency(item.total) }}</div>\r\n          <div class=\"col-2\">\r\n            <i\r\n              v-show=\"isLoadingItem !== item.id\"\r\n              class=\"material-icons-outlined\"\r\n              @click=\"removeCartItem(item.id)\"\r\n              >close</i\r\n            >\r\n            <div\r\n              v-show=\"isLoadingItem === item.id\"\r\n              class=\"spinner-border spinner-border-sm\"\r\n              role=\"status\"\r\n            ></div>\r\n          </div>\r\n        </li>\r\n      </template>\r\n    </ul>\r\n    <div class=\"row action\">\r\n      <button\r\n        type=\"btn\"\r\n        class=\"col-2 btn btn-outline-danger\"\r\n        :disabled=\"cartData?.carts?.length === 0\"\r\n        @click=\"clearAllCarts\"\r\n      >\r\n        <p class=\"d-none d-md-block my-auto\">清空購物車</p>\r\n        <p class=\"d-block d-md-none my-auto\">清空</p>\r\n      </button>\r\n      <div class=\"col-10 total d-flex justify-content-end\">\r\n        <p class=\"d-none d-md-block my-auto\">共 {{ totalQty }} 件商品，</p>\r\n        <p class=\"my-auto\">\r\n          合計：<span class=\"red\">${{ $currency(cartData.final_total) }}</span>\r\n        </p>\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn btn-primary\"\r\n          :disabled=\"cartData?.carts?.length === 0\"\r\n          @click=\"$router.push('/checkout')\"\r\n        >\r\n          下單結帳\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useStore } from 'vuex'\r\nimport { computed, ref } from 'vue'\r\nimport CartNone from './components/CartNone.vue'\r\nimport Confirm from '@/components/library/Confirm'\r\nimport Message from '@/components/library/Message'\r\nexport default {\r\n  name: 'Cart',\r\n  components: { CartNone },\r\n  setup() {\r\n    const isLoading = ref(true)\r\n    const isLoadingItem = ref('')\r\n    const store = useStore()\r\n\r\n    // 獲取購物車清單\r\n    store.dispatch('cart/findCart').then(() => {\r\n      isLoading.value = false\r\n    })\r\n    const cartData = computed(() => store.state.cart.cartData)\r\n\r\n    // 刪除購物車內容\r\n    const removeCartItem = (id) => {\r\n      Confirm({ text: '您確定要刪除該項商品嗎' })\r\n        .then(() => {\r\n          isLoadingItem.value = id\r\n          store.dispatch('cart/removeCart', id).then(() => {\r\n            Message({ type: 'success', text: '已成功刪除' })\r\n            isLoadingItem.value = ''\r\n          })\r\n        })\r\n        .catch((e) => {})\r\n    }\r\n\r\n    // 清空購物車 (全部刪除)\r\n    const clearAllCarts = () => {\r\n      Confirm({ text: '您確定要刪除所有商品嗎' })\r\n        .then(() => {\r\n          isLoading.value = true\r\n          store.dispatch('cart/clearAllCarts').then(() => {\r\n            Message({ type: 'success', text: '已成功刪除' })\r\n            isLoading.value = false\r\n          })\r\n        })\r\n        .catch((e) => {})\r\n    }\r\n\r\n    // 更新商品數量\r\n    const updateCount = (id, qty) => {\r\n      isLoadingItem.value = id\r\n      store\r\n        .dispatch('cart/updateCart', { prodcutId: id, count: qty })\r\n        .then(() => {\r\n          isLoadingItem.value = ''\r\n        })\r\n    }\r\n\r\n    return {\r\n      isLoading,\r\n      isLoadingItem,\r\n      cartData,\r\n      removeCartItem,\r\n      clearAllCarts,\r\n      updateCount,\r\n      totalQty: computed(() => store.getters['cart/totalQty'])\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n// 標題欄\r\n.carts-list {\r\n  text-align: center;\r\n  background: #e9ecef;\r\n}\r\n\r\n.list-group-item {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n}\r\n\r\n.product-img {\r\n  width: 100px;\r\n  height: 100px;\r\n  object-fit: cover;\r\n  object-position: center;\r\n}\r\n\r\ni {\r\n  cursor: pointer;\r\n}\r\n\r\n.action {\r\n  display: flex;\r\n  background: #fff;\r\n  margin: 20px 0;\r\n\r\n  height: 80px;\r\n  align-items: center;\r\n  font-size: 16px;\r\n  justify-content: space-between;\r\n  padding: 0 30px;\r\n}\r\n\r\n.red {\r\n  color: #cf4444;\r\n  font-size: 18px;\r\n  margin-right: 20px;\r\n  font-weight: bold;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"cart-none\">\r\n    <img src=\"@/assets/images/none.png\" alt=\"\" />\r\n    <p>購物車内沒有商品唷</p>\r\n    <a\r\n      href=\"#\"\r\n      class=\"btn btn-primary\"\r\n      @click.prevent=\"$router.push('/products')\"\r\n    >\r\n      繼續逛逛\r\n    </a>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'CartNone'\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.cart-none {\r\n  text-align: center;\r\n  padding: 100px 0;\r\n  img {\r\n    width: 180px;\r\n  }\r\n  p {\r\n    color: #999999;\r\n    padding: 20px 0;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./CartNone.vue?vue&type=template&id=04db4582&scoped=true\"\nimport script from \"./CartNone.vue?vue&type=script&lang=js\"\nexport * from \"./CartNone.vue?vue&type=script&lang=js\"\n\nimport \"./CartNone.vue?vue&type=style&index=0&id=04db4582&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\小羊\\\\Desktop\\\\igo-shop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-04db4582\"]])\n\nexport default __exports__","import { render } from \"./Index.vue?vue&type=template&id=9bf99ac4&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=9bf99ac4&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\小羊\\\\Desktop\\\\igo-shop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9bf99ac4\"]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/none.a7da9ce9.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Index.vue?vue&type=style&index=0&id=9bf99ac4&lang=scss&scoped=true\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CartNone.vue?vue&type=style&index=0&id=04db4582&lang=scss&scoped=true\""],"sourceRoot":""}