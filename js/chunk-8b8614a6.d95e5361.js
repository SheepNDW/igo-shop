(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8b8614a6"],{"4a35":function(e,t,c){},5112:function(e,t,c){"use strict";c("4a35")},"5a8c":function(e,t,c){"use strict";c.r(t);var n=c("7a23"),o=Object(n["createTextVNode"])("線上商城"),a={class:"container"},r=Object(n["createTextVNode"])("首頁"),i=Object(n["createTextVNode"])("線上商城");function l(e,t,c,l,u,d){var s=Object(n["resolveComponent"])("GoBanner"),b=Object(n["resolveComponent"])("GoBreadItem"),p=Object(n["resolveComponent"])("GoBread"),j=Object(n["resolveComponent"])("ProductsList"),O=Object(n["resolveComponent"])("GoSubscribe");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(s,{title:"shop"},{default:Object(n["withCtx"])((function(){return[o]})),_:1}),Object(n["createElementVNode"])("div",a,[Object(n["createVNode"])(p,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(b,{to:"/"},{default:Object(n["withCtx"])((function(){return[r]})),_:1}),Object(n["createVNode"])(b,null,{default:Object(n["withCtx"])((function(){return[i]})),_:1})]})),_:1}),Object(n["createVNode"])(j)]),Object(n["createVNode"])(O)],64)}c("4de4"),c("d3b7");var u=function(e){return Object(n["pushScopeId"])("data-v-650c5a57"),e=e(),Object(n["popScopeId"])(),e},d={class:"row"},s={class:"col-md-3 mb-2"},b={class:"scroll-content",style:{position:"sticky",top:"80px"}},p={class:"category-panel list-group list-unstyled text-center mt-2"},j=["onClick"],O={class:"col-md-9 position-relative"},m={key:0,class:"row"},f={class:"card h-100 position-relative product-card"},v={class:"product-card-imgbox"},g=["onClick"],h={class:"card-body"},k={class:"d-flex justify-content-between"},y={class:"card-title ellipsis"},N={class:"badge rounded-pill bg-secondary h5"},V={class:"d-flex justify-content-between"},E={key:0,class:"h5 ms-auto"},C={class:"h5 ms-auto red"},w={class:"d-flex justify-content-between mt-2"},B=["onClick"],x=["disabled","onClick"],L={class:"spinner-grow spinner-grow-sm"},_=u((function(){return Object(n["createElementVNode"])("i",{class:"material-icons-round"}," add_shopping_cart ",-1)}));function P(e,t,c,o,a,r){var i,l=Object(n["resolveComponent"])("Loading"),u=Object(n["resolveComponent"])("GoPagination");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",d,[Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("ul",p,[Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("a",{href:"#",class:Object(n["normalizeClass"])(["list-group-item list-group-item-action",{active:"all"===o.filter}]),onClick:t[0]||(t[0]=Object(n["withModifiers"])((function(e){return o.filterChanger("all")}),["prevent"]))}," 全部 ",2)]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.categoryList,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:e},[Object(n["createElementVNode"])("a",{href:"#",class:Object(n["normalizeClass"])(["list-group-item list-group-item-action",{active:o.filter===e}]),onClick:Object(n["withModifiers"])((function(t){return o.filterChanger(e)}),["prevent"])},Object(n["toDisplayString"])(e),11,j)])})),128))])])]),Object(n["createElementVNode"])("div",O,[Object(n["createVNode"])(l,{active:o.isLoading,"is-full-page":!1},null,8,["active"]),o.productList?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",m,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.filterList,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"col-lg-4 col-md-6 mb-3",key:t.id,"data-aos":"fade-up","data-aos-duration":"1000"},[Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("div",v,[Object(n["createElementVNode"])("div",{class:"picture",style:Object(n["normalizeStyle"])("background-image: url(".concat(t.imageUrl,")")),onClick:function(c){return e.$router.push("/product/".concat(t.id))}},null,12,g)]),Object(n["createElementVNode"])("div",h,[Object(n["createElementVNode"])("div",k,[Object(n["createElementVNode"])("h5",y,Object(n["toDisplayString"])(t.title),1),Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div",N,Object(n["toDisplayString"])(t.category),1)])]),Object(n["createElementVNode"])("div",V,[t.origin_price===t.price?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",E,"原價： "+Object(n["toDisplayString"])(e.$currency(t.origin_price))+" 元",1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:1},[Object(n["createElementVNode"])("del",null,"原價： "+Object(n["toDisplayString"])(e.$currency(t.origin_price))+" 元",1),Object(n["createElementVNode"])("span",C,"特價： "+Object(n["toDisplayString"])(e.$currency(t.price))+" 元",1)],64))]),Object(n["createElementVNode"])("div",w,[Object(n["createElementVNode"])("button",{class:"col-5 btn btn-outline-primary me-3",type:"button",onClick:function(c){return e.$router.push("/product/".concat(t.id))}}," 查看 ",8,B),Object(n["createElementVNode"])("button",{class:"col-5 btn btn-primary d-flex align-items-center justify-content-center",disabled:o.isLoadingItem===t.id,type:"button",onClick:function(e){return o.addToCart(t.id)}},[Object(n["withDirectives"])(Object(n["createElementVNode"])("span",L,null,512),[[n["vShow"],o.isLoadingItem===t.id]]),_],8,x)])])])])})),128))])):Object(n["createCommentVNode"])("",!0),(null===(i=o.pages)||void 0===i?void 0:i.total_pages)>1?(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:1,pages:o.pages,onChangePage:o.changePager},null,8,["pages","onChangePage"])):Object(n["createCommentVNode"])("",!0)])])}var S=c("1da1"),D=(c("fb6a"),c("96cf"),c("dd5d")),I=c("c4c8"),T=c("806c"),G=c("5502"),$=c("2f59"),F=c("6c02"),z={name:"ProductsList",setup:function(){var e=Object(n["ref"])(null),t=Object(n["ref"])(!0),c=function(){var c=Object(S["a"])(regeneratorRuntime.mark((function c(){var n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return t.value=!0,c.next=3,Object(I["e"])();case 3:n=c.sent,e.value=n.products,t.value=!1;case 6:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();c();var o=Object(n["ref"])("all"),a=function(e){o.value=e,r.value=1,window.scrollTo({top:0,behavior:"smooth"})},r=Object(n["ref"])(1),i=Object(n["ref"])(null),l=Object(n["ref"])(null);Object(n["watchEffect"])((function(){var t=Object(T["c"])(o.value,e.value),c=t.newProducts;i.value=c.value;var n=Object(T["d"])(r.value,i.value),a=n.pagination;l.value=a}));var u=Object(n["computed"])((function(){return null===i||void 0===i?void 0:i.value.slice(9*(l.value.current_page-1),9*l.value.current_page)})),d=function(e){r.value=e},s=Object(n["ref"])(""),b=Object(G["b"])(),p=function(e){s.value=e,b.dispatch("cart/addToCart",{id:e,count:1}).then((function(){s.value="",Object($["a"])({type:"success",text:"已成功加入購物車! "})}))},j=Object(F["d"])();return Object(n["watch"])(o,(function(){j.push("/products?category=".concat(o.value))}),{immediate:!0}),{categoryList:D["a"],productList:e,filter:o,filterChanger:a,isLoading:t,filterList:u,pages:l,changePager:d,addToCart:p,isLoadingItem:s}}},J=(c("5112"),c("6b0d")),M=c.n(J);const R=M()(z,[["render",P],["__scopeId","data-v-650c5a57"]]);var U=R,q={name:"ProductsPage",components:{ProductsList:U}};const A=M()(q,[["render",l]]);t["default"]=A},c4c8:function(e,t,c){"use strict";c.d(t,"d",(function(){return a})),c.d(t,"e",(function(){return r})),c.d(t,"c",(function(){return i})),c.d(t,"f",(function(){return l})),c.d(t,"b",(function(){return u})),c.d(t,"a",(function(){return d}));c("99af");var n=c("b775"),o="".concat("sheep-api"),a=function(e){return Object(n["a"])("/api/".concat(o,"/product/").concat(e),"get")},r=function(){return Object(n["a"])("/api/".concat(o,"/products/all"),"get")},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(n["a"])("/api/".concat(o,"/admin/products?page=").concat(e),"get",{category:t})},l=function(e){return Object(n["a"])("/api/".concat(o,"/admin/product"),"post",{data:e})},u=function(e,t){return Object(n["a"])("/api/".concat(o,"/admin/product/").concat(e),"put",{data:t})},d=function(e){return Object(n["a"])("/api/".concat(o,"/admin/product/").concat(e),"delete")}},dd5d:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var n=["圍棋子","圍棋罐","圍棋盤 / 棋墩","其他"]}}]);
//# sourceMappingURL=chunk-8b8614a6.d95e5361.js.map