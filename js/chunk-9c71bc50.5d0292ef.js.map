{"version":3,"sources":["webpack:///./src/views/dashboard/products/AdminProducts.vue","webpack:///./src/views/dashboard/products/components/ProductModal.vue","webpack:///./src/views/dashboard/products/components/ProductModal.vue?edaa","webpack:///./src/views/dashboard/products/AdminProducts.vue?45af","webpack:///./src/views/dashboard/products/AdminProducts.vue?004b","webpack:///./src/components/AdminHeader.vue","webpack:///./src/components/AdminHeader.vue?180f","webpack:///./src/components/library/Confirm.js","webpack:///./src/api/product.js","webpack:///./src/api/constants.js","webpack:///./src/views/dashboard/products/components/ProductModal.vue?57c8","webpack:///./node_modules/core-js/modules/es.json.stringify.js"],"names":["class","style","_createElementVNode","value","selected","_hoisted_7","_hoisted_18","_hoisted_21","_createVNode","_component_AdminHeader","_component_Loading","active","$setup","is-full-page","$event","onChange","_hoisted_5","_createElementBlock","_Fragment","_renderList","cate","key","_hoisted_6","type","onClick","_hoisted_10","product","id","_toDisplayString","category","title","_ctx","origin_price","price","is_enabled","_hoisted_19","_hoisted_22","_hoisted_24","_hoisted_25","pagination","total_pages","_createBlock","_component_GoPagination","pages","onChangePage","_component_ProductModal","ref","temp-product","is-edit","onUpdateList","data-bs-dismiss","role","data-bs-toggle","data-bs-target","for","disabled","_hoisted_52","_hoisted_55","_hoisted_58","data-bs-backdrop","data-bs-keyboard","onSubmit","$props","_hoisted_4","_hoisted_8","_hoisted_13","placeholder","required","_hoisted_15","_hoisted_16","item","_hoisted_17","min","_hoisted_23","unit","_hoisted_26","true-value","false-value","_hoisted_29","is_hot","_hoisted_34","row","description","_hoisted_36","content","_hoisted_40","imageUrl","src","_hoisted_46","Array","isArray","imagesUrl","_hoisted_47","img","i","alt","length","_hoisted_51","push","_hoisted_54","pop","_hoisted_57","_hoisted_61","name","_hoisted_63","props","tempProduct","Object","default","isEdit","Boolean","emits","setup","emit","productModal","useBsModal","openModal","closeModal","watch","JSON","parse","stringify","immediate","addImg","updateProduct","editProduct","data","Message","text","message","uploadProduct","useUpload","uploadInputRef","file","getUploadFile","upload","uploadImage","imgUrl","productCategory","__exports__","components","AdminHeader","ProductModal","isLoading","filter","products","getProducts","page","getAdminProducts","changePager","getFilterProducts","productModalCom","status","removeProduct","Confirm","then","deleteProduct","catch","e","render","_hoisted_3","subTitle","String","router","useRouter","logout","document","cookie","div","createElement","setAttribute","body","appendChild","Promise","resolve","reject","cancelCallback","Error","submitCallback","vnode","createVNode","GoConfirm","path","process","getProductById","request","getProductsAll","$","global","getBuiltIn","apply","uncurryThis","fails","$stringify","exec","charAt","charCodeAt","replace","numberToString","toString","tester","low","hi","fix","match","offset","string","prev","next","FORCED","target","stat","forced","it","replacer","space","l","arguments","args","result"],"mappings":"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","file":"js/chunk-9c71bc50.5d0292ef.js","sourcesContent":["<template>\r\n  <!-- 頭部區域 -->\r\n  <AdminHeader />\r\n  <!-- 卡片視圖 -->\r\n  <div class=\"flex-fill overflow-auto p-3\" style=\"position: relative\">\r\n    <!-- Loading 元件 -->\r\n    <Loading :active=\"isLoading\" :is-full-page=\"false\" />\r\n    <div class=\"card p-2 shadow-sm\" style=\"min-height: 200px\">\r\n      <div class=\"card-body\">\r\n        <div class=\"d-flex justify-content-between mb-3\">\r\n          <select\r\n            class=\"form-select filter-form\"\r\n            v-model=\"filter\"\r\n            @change=\"getFilterProducts\"\r\n          >\r\n            <option value=\"\" selected>全部</option>\r\n            <option v-for=\"cate in category\" :key=\"cate\" :value=\"cate\">\r\n              {{ cate }}\r\n            </option>\r\n          </select>\r\n\r\n          <button\r\n            class=\"btn btn-primary ms-auto d-flex\"\r\n            type=\"button\"\r\n            @click=\"openModal('new')\"\r\n          >\r\n            <i class=\"material-icons-outlined me-2\">add_circle_outline</i>\r\n            新增產品\r\n          </button>\r\n        </div>\r\n        <ul\r\n          class=\"row g-0 list-unstyled rounded-0 p-2 products-list text-nowrap border-bottom border-2\"\r\n        >\r\n          <li class=\"col-2 d-none d-md-block\">分類</li>\r\n          <li class=\"col-3 text-start\">商品名稱</li>\r\n          <li class=\"col-2\">原價</li>\r\n          <li class=\"col-2\">售價</li>\r\n          <li class=\"col-1\">狀態</li>\r\n          <li class=\"col-3 col-md-2\">操作</li>\r\n        </ul>\r\n        <ul class=\"list-group list-group-flush shadow-sm mb-4\" v-if=\"products\">\r\n          <li\r\n            class=\"list-group-item p-2\"\r\n            v-for=\"product in products\"\r\n            :key=\"product.id\"\r\n          >\r\n            <div class=\"col-2 d-none d-md-block\">\r\n              <span class=\"badge bg-secondary fw-light category-badge\">\r\n                {{ product.category }}\r\n              </span>\r\n            </div>\r\n            <div class=\"col-3 text-start\">{{ product.title }}</div>\r\n            <div class=\"col-2\">{{ $currency(product.origin_price) }}</div>\r\n            <div class=\"col-2\">{{ $currency(product.price) }}</div>\r\n            <div class=\"col-1 text-success\" v-if=\"product.is_enabled\">\r\n              <i class=\"material-icons-outlined\">check_circle</i>\r\n            </div>\r\n            <div class=\"col-1 text-danger\" v-else>\r\n              <i class=\"material-icons-outlined\">cancel</i>\r\n            </div>\r\n            <div class=\"col-3 col-md-2 d-flex justify-content-center\">\r\n              <button\r\n                class=\"btn btn-sm btn-outline-primary fs-7\"\r\n                type=\"button\"\r\n                @click=\"openModal('edit', product)\"\r\n              >\r\n                編輯\r\n              </button>\r\n              <button\r\n                class=\"btn btn-sm btn-outline-danger fs-7 ms-2 ms-md-3\"\r\n                type=\"button\"\r\n                @click=\"removeProduct(product.id)\"\r\n              >\r\n                刪除\r\n              </button>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <!-- 分頁元件 -->\r\n        <GoPagination\r\n          v-if=\"pagination?.total_pages > 1\"\r\n          :pages=\"pagination\"\r\n          @change-page=\"changePager\"\r\n        />\r\n        <!-- Modal元件 -->\r\n        <ProductModal\r\n          ref=\"productModalCom\"\r\n          :temp-product=\"tempProduct\"\r\n          :is-edit=\"isEdit\"\r\n          @update-list=\"getProducts\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport { deleteProduct, getAdminProducts } from '@/api/product'\r\nimport ProductModal from './components/ProductModal.vue'\r\nimport AdminHeader from '@/components/AdminHeader.vue'\r\nimport Confirm from '@/components/library/Confirm'\r\nimport Message from '@/components/library/Message'\r\nimport { productCategory } from '@/api/constants'\r\nexport default {\r\n  name: 'AdminProducts',\r\n  components: { AdminHeader, ProductModal },\r\n  setup() {\r\n    const isLoading = ref(true)\r\n    const filter = ref('')\r\n    // 取得後台產品列表\r\n    const products = ref(null)\r\n    const pagination = ref(null)\r\n    const getProducts = async (page) => {\r\n      isLoading.value = true\r\n      const data = await getAdminProducts(page, filter.value)\r\n      products.value = data.products\r\n      pagination.value = data.pagination\r\n      isLoading.value = false\r\n    }\r\n    getProducts()\r\n\r\n    // 換頁函式\r\n    const changePager = (page) => getProducts(page)\r\n\r\n    // 切換顯示產品類別\r\n    const getFilterProducts = () => getProducts()\r\n\r\n    // 想要顯示在modal的產品\r\n    const tempProduct = ref({\r\n      imagesUrl: []\r\n    })\r\n\r\n    // 打開modal\r\n    const productModalCom = ref(null)\r\n    const isEdit = ref(false)\r\n    const openModal = (status, product = { imagesUrl: [], is_enabled: 1 }) => {\r\n      tempProduct.value = product\r\n      if (status === 'new') isEdit.value = false\r\n      if (status === 'edit') isEdit.value = true\r\n      productModalCom.value.openModal()\r\n    }\r\n\r\n    // 刪除產品方法\r\n    const removeProduct = (id) => {\r\n      Confirm({ text: '你確認要刪除此產品嗎' })\r\n        .then(() => {\r\n          deleteProduct(id).then((data) => {\r\n            Message({ type: 'success', text: data.message })\r\n            getProducts()\r\n          })\r\n        })\r\n        .catch((e) => {})\r\n    }\r\n\r\n    return {\r\n      category: productCategory,\r\n      filter,\r\n      getFilterProducts,\r\n      isLoading,\r\n      products,\r\n      pagination,\r\n      changePager,\r\n      tempProduct,\r\n      isEdit,\r\n      openModal,\r\n      productModalCom,\r\n      getProducts,\r\n      removeProduct\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.filter-form {\r\n  max-width: 200px;\r\n}\r\n\r\n// 分類標籤\r\n.category-badge {\r\n  font-size: 0.875rem;\r\n}\r\n\r\n// 列表標題欄\r\n.products-list {\r\n  text-align: center;\r\n  background: #e9ecef;\r\n}\r\n\r\n// 產品列表\r\n.list-group-item {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n}\r\n</style>\r\n","<template>\r\n  <form\r\n    ref=\"productModal\"\r\n    class=\"modal fade\"\r\n    id=\"productModal\"\r\n    data-bs-backdrop=\"static\"\r\n    data-bs-keyboard=\"false\"\r\n    @submit.prevent=\"updateProduct\"\r\n  >\r\n    <div class=\"modal-dialog modal-dialog-centered modal-lg\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark p-3 text-light\">\r\n          <span v-if=\"isEdit\">編輯產品</span>\r\n          <span v-else>新增產品</span>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close btn-close-white me-1\"\r\n            data-bs-dismiss=\"modal\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <!-- tabs標題 -->\r\n          <ul class=\"nav nav-tabs\" id=\"productTab\" role=\"tablist\">\r\n            <li class=\"nav-item\" role=\"presentation\">\r\n              <button\r\n                class=\"nav-link active\"\r\n                id=\"info-tab\"\r\n                data-bs-toggle=\"tab\"\r\n                data-bs-target=\"#info\"\r\n                type=\"button\"\r\n                role=\"tab\"\r\n              >\r\n                產品資訊\r\n              </button>\r\n            </li>\r\n            <li class=\"nav-item\" role=\"presentation\">\r\n              <button\r\n                class=\"nav-link\"\r\n                id=\"content-tab\"\r\n                data-bs-toggle=\"tab\"\r\n                data-bs-target=\"#content\"\r\n                type=\"button\"\r\n                role=\"tab\"\r\n              >\r\n                產品內容\r\n              </button>\r\n            </li>\r\n            <li class=\"nav-item\" role=\"presentation\">\r\n              <button\r\n                class=\"nav-link\"\r\n                id=\"picture-tab\"\r\n                data-bs-toggle=\"tab\"\r\n                data-bs-target=\"#picture\"\r\n                type=\"button\"\r\n                role=\"tab\"\r\n              >\r\n                產品圖片\r\n              </button>\r\n            </li>\r\n          </ul>\r\n          <!-- tabs內容區域 -->\r\n          <div class=\"tab-content\" id=\"tabContent\">\r\n            <!-- 產品資訊 -->\r\n            <div class=\"tab-pane fade show active\" id=\"info\" role=\"tabpanel\">\r\n              <div class=\"row g-2\">\r\n                <div class=\"col-8\">\r\n                  <label class=\"form-label\" for=\"product-title\">\r\n                    商品名稱<small class=\"text-danger ms-1\">*</small>\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"product-title\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"輸入商品名稱\"\r\n                    required\r\n                    v-model=\"product.title\"\r\n                  />\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <label class=\"form-label\" for=\"product-category\">\r\n                    商品類別<small class=\"text-danger ms-1\">*</small>\r\n                  </label>\r\n                  <select\r\n                    id=\"product-category\"\r\n                    class=\"form-control form-select\"\r\n                    required\r\n                    v-model=\"product.category\"\r\n                  >\r\n                    <option value=\"\" selected disabled>選擇類別</option>\r\n                    <option v-for=\"item in category\" :key=\"item\" :value=\"item\">\r\n                      {{ item }}\r\n                    </option>\r\n                  </select>\r\n                </div>\r\n                <div class=\"col-4 mt-2\">\r\n                  <label class=\"form-label\" for=\"product-origin-price\">\r\n                    原價<small class=\"text-danger ms-1\">*</small>\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    id=\"product-origin-price\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"輸入原價\"\r\n                    required\r\n                    v-model=\"product.origin_price\"\r\n                  />\r\n                </div>\r\n                <div class=\"col-4 mt-2\">\r\n                  <label class=\"form-label\" for=\"product-price\">\r\n                    售價<small class=\"text-danger ms-1\">*</small>\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    id=\"product-price\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"輸入售價\"\r\n                    required\r\n                    v-model=\"product.price\"\r\n                  />\r\n                </div>\r\n                <div class=\"col-4 mt-2\">\r\n                  <label class=\"form-label\" for=\"product-unit\">\r\n                    單位<small class=\"text-danger ms-1\">*</small>\r\n                  </label>\r\n                  <input\r\n                    id=\"product-unit\"\r\n                    class=\"form-control\"\r\n                    required\r\n                    v-model=\"product.unit\"\r\n                  />\r\n                </div>\r\n                <hr class=\"mt-4\" />\r\n                <div class=\"col-4 d-flex align-items-center\">\r\n                  <label class=\"form-label m-0\" for=\"product-active\"\r\n                    >是否上架</label\r\n                  >\r\n                  <div class=\"form-check ms-2\">\r\n                    <input\r\n                      class=\"form-check-input\"\r\n                      type=\"checkbox\"\r\n                      id=\"product-active\"\r\n                      role=\"button\"\r\n                      :true-value=\"1\"\r\n                      :false-value=\"0\"\r\n                      v-model.number=\"product.is_enabled\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4 d-flex align-items-center\">\r\n                  <label class=\"form-label m-0\" for=\"product-hot\"\r\n                    >人氣推薦</label\r\n                  >\r\n                  <div class=\"form-check ms-2\">\r\n                    <input\r\n                      class=\"form-check-input\"\r\n                      type=\"checkbox\"\r\n                      id=\"product-hot\"\r\n                      role=\"button\"\r\n                      :true-value=\"1\"\r\n                      :false-value=\"0\"\r\n                      v-model.number=\"product.is_hot\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!-- 產品內容 -->\r\n            <div class=\"tab-pane fade show\" id=\"content\" role=\"tabpanel\">\r\n              <div class=\"row g-0\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"form-label\" for=\"product-desc\">產品描述</label>\r\n                  <textarea\r\n                    class=\"form-control\"\r\n                    id=\"product-desc\"\r\n                    style=\"min-height: 120px\"\r\n                    placeholder=\"輸入產品內容\"\r\n                    row=\"5\"\r\n                    v-model=\"product.description\"\r\n                  />\r\n                </div>\r\n                <div class=\"col-12 mt-2\">\r\n                  <label class=\"form-label\" for=\"product-content\"\r\n                    >產品內容</label\r\n                  >\r\n                  <textarea\r\n                    id=\"product-content\"\r\n                    class=\"form-control\"\r\n                    style=\"min-height: 120px\"\r\n                    placeholder=\"輸入產品內容\"\r\n                    row=\"5\"\r\n                    v-model=\"product.content\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!-- 產品圖片 -->\r\n            <div class=\"tab-pane fade show\" id=\"picture\" role=\"tabpanel\">\r\n              <div class=\"row overflow-auto\" style=\"max-height: 600px\">\r\n                <!-- 主圖 -->\r\n                <div class=\"col-12 mt-2\">\r\n                  <h3 class=\"mb-3\">\r\n                    新增主圖<small class=\"text-danger ms-1\">*</small>\r\n                  </h3>\r\n                  <div class=\"mb-1\">\r\n                    <div class=\"mb-3\">\r\n                      <input\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"請輸入圖片連結\"\r\n                        v-model=\"product.imageUrl\"\r\n                      />\r\n                    </div>\r\n                    <figure class=\"figure-fluid bg-light text-center\">\r\n                      <img\r\n                        :src=\"product.imageUrl\"\r\n                        class=\"figure-img img-fluid rounded picture\"\r\n                      />\r\n                    </figure>\r\n                  </div>\r\n                </div>\r\n                <!-- 其他附圖 -->\r\n                <div class=\"col-12 mt-2\">\r\n                  <h3 class=\"mb-3\">其他圖片</h3>\r\n                  <!-- 檢查是否存在imagesUrl屬性且為陣列 -->\r\n                  <div v-if=\"Array.isArray(product.imagesUrl)\">\r\n                    <div class=\"col-12 d-flex\">\r\n                      <div\r\n                        class=\"img-box\"\r\n                        v-for=\"(img, i) in product.imagesUrl\"\r\n                        :key=\"i\"\r\n                      >\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          placeholder=\"請輸入圖片連結\"\r\n                          v-model=\"product.imagesUrl[i]\"\r\n                        />\r\n                        <img\r\n                          class=\"img-fluid img-thumbnail\"\r\n                          :src=\"img\"\r\n                          alt=\"\"\r\n                        />\r\n                      </div>\r\n                      <!-- 如果當前沒有多圖或是在最後一張圖後面加上新增按鈕 -->\r\n                      <div\r\n                        v-if=\"\r\n                          !product.imagesUrl.length ||\r\n                          product.imagesUrl[product.imagesUrl.length - 1]\r\n                        \"\r\n                      >\r\n                        <button\r\n                          class=\"btn btn-outline-secondary btn-sm d-flex align-items-center\"\r\n                          @click=\"product.imagesUrl.push('')\"\r\n                        >\r\n                          <i class=\"material-icons\">add_photo_alternate</i>\r\n                        </button>\r\n                      </div>\r\n                      <div v-else>\r\n                        <button\r\n                          class=\"btn btn-outline-danger btn-sm d-flex align-items-center\"\r\n                          @click=\"product.imagesUrl.pop()\"\r\n                        >\r\n                          <i class=\"material-icons\">delete_outline</i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <!-- 當前沒有imagesUrl -->\r\n                  <div v-else>\r\n                    <button\r\n                      class=\"btn btn-outline-secondary btn-sm d-flex align-items-center\"\r\n                      @click=\"addImg\"\r\n                    >\r\n                      <i class=\"material-icons\">add_photo_alternate</i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-12 mt-3\">\r\n                  <label class=\"form-label\" for=\"product-upload-file\"\r\n                    >上傳圖片</label\r\n                  >\r\n                  <div class=\"input-group\">\r\n                    <input\r\n                      type=\"file\"\r\n                      name=\"file-to-upload\"\r\n                      class=\"form-control\"\r\n                      id=\"product-upload-file\"\r\n                      ref=\"uploadInputRef\"\r\n                      @change=\"getUploadFile\"\r\n                    /><button\r\n                      class=\"btn btn-outline-secondary\"\r\n                      @click.prevent=\"uploadImage\"\r\n                    >\r\n                      上傳圖片\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- footer -->\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button type=\"submit\" class=\"btn btn-primary\">確定</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch } from 'vue'\r\nimport { editProduct, uploadProduct } from '@/api/product'\r\nimport { productCategory } from '@/api/constants'\r\nimport Message from '@/components/library/Message'\r\nimport { useBsModal, useUpload } from '@/hooks'\r\nexport default {\r\n  name: 'ProductModal',\r\n  props: {\r\n    tempProduct: {\r\n      type: Object,\r\n      default: () => ({ imagesUrl: [] })\r\n    },\r\n    isEdit: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  emits: ['update-list'],\r\n  setup(props, { emit }) {\r\n    const productModal = ref(null)\r\n    const { openModal, closeModal } = useBsModal(productModal)\r\n\r\n    // 將props傳入的物件先進行拷貝再進行修改\r\n    const product = ref(props.tempProduct)\r\n    watch(\r\n      () => props.tempProduct,\r\n      () => {\r\n        product.value = JSON.parse(JSON.stringify(props.tempProduct))\r\n      },\r\n      { immediate: true }\r\n    )\r\n\r\n    // 新增圖片\r\n    const addImg = () => {\r\n      product.value.imagesUrl = []\r\n      product.value.imagesUrl.push('')\r\n    }\r\n\r\n    // --- 修改 / 新增 產品的方法 ---\r\n    const updateProduct = async () => {\r\n      // 修改\r\n      if (props.isEdit) {\r\n        const data = await editProduct(product.value.id, product.value)\r\n        Message({ type: 'success', text: data.message })\r\n      }\r\n      // 新增\r\n      if (!props.isEdit) {\r\n        const data = await uploadProduct(product.value)\r\n        Message({ type: 'success', text: data.message })\r\n      }\r\n      closeModal()\r\n      // 通知父元件更新產品列表\r\n      emit('update-list')\r\n    }\r\n\r\n    // 上傳圖片邏輯\r\n    const { uploadInputRef, file, getUploadFile, upload } = useUpload()\r\n    const uploadImage = async () => {\r\n      const imgUrl = await upload()\r\n      if (imgUrl) {\r\n        if (product.value.imagesUrl) {\r\n          product.value.imagesUrl.push(imgUrl)\r\n        } else {\r\n          product.value.imagesUrl = []\r\n          product.value.imagesUrl.push(imgUrl)\r\n        }\r\n      }\r\n    }\r\n\r\n    return {\r\n      category: productCategory,\r\n      product,\r\n      productModal,\r\n      closeModal,\r\n      openModal,\r\n      addImg,\r\n      updateProduct,\r\n      uploadInputRef,\r\n      file,\r\n      getUploadFile,\r\n      uploadImage\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.picture {\r\n  object-fit: contain;\r\n  max-width: 100%;\r\n  height: 100%;\r\n  min-height: 9.5rem;\r\n  max-height: 20rem;\r\n  margin-bottom: 0;\r\n}\r\n\r\n.img-box {\r\n  width: calc((100% - 1rem) / 3);\r\n  min-height: 1rem;\r\n  margin-right: 0.5rem;\r\n}\r\n</style>\r\n","import { render } from \"./ProductModal.vue?vue&type=template&id=1ed60982&scoped=true\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport \"./ProductModal.vue?vue&type=style&index=0&id=1ed60982&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\小羊\\\\Desktop\\\\igo-shop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1ed60982\"]])\n\nexport default __exports__","import { render } from \"./AdminProducts.vue?vue&type=template&id=4451ec58&scoped=true\"\nimport script from \"./AdminProducts.vue?vue&type=script&lang=js\"\nexport * from \"./AdminProducts.vue?vue&type=script&lang=js\"\n\nimport \"./AdminProducts.vue?vue&type=style&index=0&id=4451ec58&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\小羊\\\\Desktop\\\\igo-shop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4451ec58\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./AdminProducts.vue?vue&type=style&index=0&id=4451ec58&lang=scss&scoped=true\"","<template>\r\n  <nav class=\"p-3 bg-white d-flex justify-content-between align-items-center\">\r\n    <ol class=\"breadcrumb m-0\">\r\n      <li class=\"breadcrumb-item\">管理系統</li>\r\n      <li class=\"breadcrumb-item active\">{{ subTitle }}</li>\r\n    </ol>\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-sm btn-secondary d-flex align-items-center\"\r\n      @click=\"logout\"\r\n    >\r\n      <i class=\"material-icons-outlined me-1\">logout</i>登出\r\n    </button>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nexport default {\r\n  name: 'AdminHeader',\r\n  props: {\r\n    subTitle: {\r\n      type: String,\r\n      default: '產品管理'\r\n    }\r\n  },\r\n  setup() {\r\n    const router = useRouter()\r\n    const logout = () => {\r\n      // 清除token 跳回首頁\r\n      document.cookie = 'hexToken=;expires=;'\r\n      router.push('/')\r\n    }\r\n\r\n    return { logout }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./AdminHeader.vue?vue&type=template&id=66cc0dbe\"\nimport script from \"./AdminHeader.vue?vue&type=script&lang=js\"\nexport * from \"./AdminHeader.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\小羊\\\\Desktop\\\\igo-shop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createVNode, render } from 'vue'\r\nimport GoConfirm from './go-confirm.vue'\r\n\r\n// 準備一個DOM\r\nconst div = document.createElement('div')\r\ndiv.setAttribute('class', 'go-confirm-container')\r\ndocument.body.appendChild(div)\r\n\r\n// 返回一個Promise物件, 點取消或確認都要銷毀元件\r\nexport default ({ title, text }) => {\r\n  return new Promise((resolve, reject) => {\r\n    const cancelCallback = () => {\r\n      render(null, div)\r\n      reject(new Error('點擊取消'))\r\n    }\r\n    const submitCallback = () => {\r\n      render(null, div)\r\n      resolve()\r\n    }\r\n\r\n    const vnode = createVNode(GoConfirm, { title, text, cancelCallback, submitCallback })\r\n    render(vnode, div)\r\n  })\r\n}\r\n","import request from '@/utils/request'\r\nconst path = `${process.env.VUE_APP_PATH}`\r\n\r\n// 前台 API\r\n/**\r\n * 取得產品列表\r\n * @param {Number} page - 當前頁碼\r\n * @returns Promise\r\n */\r\nexport const getProducts = (page = 1) => {\r\n  return request(`/api/${path}/products?page=${page}`, 'get')\r\n}\r\n\r\n/**\r\n * 根據id獲取產品的詳情\r\n * @param {String} id - 產品id\r\n * @returns Promise\r\n */\r\nexport const getProductById = (id) => {\r\n  return request(`/api/${path}/product/${id}`, 'get')\r\n}\r\n\r\n/**\r\n * 取得所有的產品\r\n * @returns Promise\r\n */\r\nexport const getProductsAll = () => {\r\n  return request(`/api/${path}/products/all`, 'get')\r\n}\r\n\r\n// 後台 API\r\n/**\r\n * 取得後台產品列表\r\n * @param {Number} page - 當前頁碼\r\n * @returns Promise\r\n */\r\nexport const getAdminProducts = (page = 1, category = '') => {\r\n  return request(`/api/${path}/admin/products?page=${page}`, 'get', { category })\r\n}\r\n\r\n/**\r\n * 新增一個產品\r\n * @param {Object} product - 要新增的產品資料\r\n * @returns Promise\r\n */\r\nexport const uploadProduct = (product) => {\r\n  return request(`/api/${path}/admin/product`, 'post', { data: product })\r\n}\r\n\r\n/**\r\n * 修改一個產品\r\n * @param {String} id - 要修改產品的ID\r\n * @param {Object} product - 要修改的產品\r\n * @returns Promise\r\n */\r\nexport const editProduct = (id, product) => {\r\n  return request(`/api/${path}/admin/product/${id}`, 'put', { data: product })\r\n}\r\n\r\n/**\r\n * 刪除一個產品\r\n * @param {String} id - 要刪除的產品ID\r\n * @returns Promise\r\n */\r\nexport const deleteProduct = (id) => {\r\n  return request(`/api/${path}/admin/product/${id}`, 'delete')\r\n}\r\n","// 專案中的常量資料\r\n\r\n// 產品類別\r\nexport const productCategory = [\r\n  '圍棋子',\r\n  '圍棋罐',\r\n  '圍棋盤 / 棋墩',\r\n  '其他'\r\n]\r\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ProductModal.vue?vue&type=style&index=0&id=1ed60982&lang=scss&scoped=true\"","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\n\nvar Array = global.Array;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      for (var i = 0, l = arguments.length, args = Array(l); i < l; i++) args[i] = arguments[i];\n      var result = apply($stringify, null, args);\n      return typeof result == 'string' ? replace(result, tester, fix) : result;\n    }\n  });\n}\n"],"sourceRoot":""}