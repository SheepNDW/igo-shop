{"version":3,"sources":["webpack:///./src/views/front/pay/Result.vue?3978","webpack:///./src/views/front/pay/Result.vue","webpack:///./src/views/front/pay/Result.vue?1bbc","webpack:///./src/views/front/pay/components/PayStep.vue","webpack:///./src/views/front/pay/components/PayStep.vue?a434","webpack:///./src/api/order.js"],"names":["class","style","_createElementVNode","_createVNode","_component_GoBanner","title","_component_PayStep","activeIndex","_component_Loading","active","$setup","is-full-page","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","user","payment_method","_ctx","Math","round","total","onClick","push","_hoisted_11","name","components","PayStep","setup","isLoading","ref","store","useStore","route","useRoute","order","getOrderById","params","id","then","data","value","dispatch","__exports__","render","_createElementBlock","_component_GoSteps","$props","_component_GoStepsItem","props","type","Number","default","path","process","createOrder","request","orderId","payOrder","getOrdersList","page","updateOrder","deleteOrder","clearOrder"],"mappings":"kHAAA,W,4LCCyB,Q,GAClBA,MAAM,kB,GAIPA,MAAM,+FACNC,MAAA,2C,GAIKD,MAAM,c,uBACTE,gCAA+D,QAAzDF,MAAM,iCAAgC,gBAAY,M,uBACxDE,gCAAyB,KAAtBF,MAAM,OAAM,UAAM,M,uBACrBE,gCAAwC,KAArCF,MAAM,OAAM,yBAAqB,M,+BACjC,U,+BAGA,Y,GACYA,MAAM,O,uBAOrBE,gCAEI,KAFDF,MAAM,SAAQ,sDAEjB,M,wPA3BNG,yBAAsCC,EAAA,CAA5BC,MAAM,QAAM,C,8BAAC,iBAAI,O,MAC3BH,gCA6BM,MA7BN,EA6BM,CA5BJC,yBAA4BG,EAAA,CAAlBC,YAAa,IAEvBL,gCAyBM,MAzBN,EAyBM,CApBJC,yBAAqDK,EAAA,CAA3CC,OAAQC,YAAYC,gBAAc,GAA5C,mBACAT,gCAkBM,MAlBN,EAkBM,CAjBJU,EACAC,EACAC,EACAZ,gCAEI,YADGA,gCAA8C,YAAAa,6BAAA,QAAAA,EAArCL,eAAqC,iBAArC,EAAOM,YAA8B,aAArC,EAAaC,gBAAc,KAE3Cf,gCAII,YAHKA,gCAEN,OAFM,EACJ,IAACa,6BAAGG,YAAUC,KAAKC,MAAL,UAAWV,eAAX,aAAW,EAAOW,SAAK,KAG1CnB,gCAES,UAFDF,MAAM,oBAAqBsB,QAAK,+BAAEJ,UAAQK,KAAI,QAAO,UAG7DC,SAxBN,I,oDAsCa,GACbC,KAAM,aACNC,WAAY,CAAEC,gBACdC,MAHa,WAIX,IAAMC,EAAYC,kBAAI,GAEhBC,EAAQC,iBACRC,EAAQC,iBACRC,EAAQL,iBAAI,MAUlB,OATAM,eAAaH,EAAMI,OAAOC,IAAIC,MAAK,SAACC,GAIlC,OAHAL,EAAMM,MAAQD,EAAKL,MAGZJ,EAAMW,SAAS,iBAAiBH,MAAK,WAC1CV,EAAUY,OAAQ,QAIf,CACLZ,YACAM,W,iCCrDN,MAAMQ,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,qDCRR5C,MAAM,gB,sJAAX6C,gCAMM,MANN,EAMM,CALJ1C,yBAIU2C,EAAA,CAJArC,OAAQsC,eAAW,C,8BAC3B,iBAA4B,CAA5B5C,yBAA4B6C,EAAA,CAAf3C,MAAM,SACnBF,yBAA4B6C,EAAA,CAAf3C,MAAM,SACnBF,yBAA4B6C,EAAA,CAAf3C,MAAM,a,KAHrB,gB,cASW,GACboB,KAAM,UACNwB,MAAO,CACL1C,YAAa,CACX2C,KAAMC,OACNC,QAAS,K,qBCXf,MAAMT,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,U,iUCNTS,EAAO,GAAH,OAAMC,aAQHC,EAAc,SAACpB,GAC1B,OAAOqB,eAAQ,QAAD,OAASH,EAAT,UAAuB,OAAQ,CAAEb,KAAML,KAQ1CC,EAAe,SAACqB,GAC3B,OAAOD,eAAQ,QAAD,OAASH,EAAT,kBAAuBI,GAAW,QAQrCC,EAAW,SAACD,GACvB,OAAOD,eAAQ,QAAD,OAASH,EAAT,gBAAqBI,GAAW,SASnCE,EAAgB,WAAc,IAAbC,EAAa,uDAAN,EACnC,OAAOJ,eAAQ,QAAD,OAASH,EAAT,8BAAmCO,GAAQ,QAQ9CC,EAAc,SAAC1B,GAC1B,OAAOqB,eAAQ,QAAD,OAASH,EAAT,wBAA6BlB,EAAMG,IAAM,MAAO,CAAEE,KAAML,KAQ3D2B,EAAc,SAACxB,GAC1B,OAAOkB,eAAQ,QAAD,OAASH,EAAT,wBAA6Bf,GAAM,WAOtCyB,EAAa,WACxB,OAAOP,eAAQ,QAAD,OAASH,EAAT,qBAAkC","file":"js/chunk-4135118e.7ff168a0.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Result.vue?vue&type=style&index=0&id=979c5b3a&lang=scss&scoped=true\"","<template>\r\n  <GoBanner title=\"shop\">結帳流程</GoBanner>\r\n  <div class=\"container mt-3\">\r\n    <PayStep :activeIndex=\"3\" />\r\n    <!-- 支付結果 -->\r\n    <div\r\n      class=\"row g-0 bg-white rounded justify-content-between flex-md-row-reverse p-3 mt-4 mb-4 shadow-sm\"\r\n      style=\"position: relative; min-height: 50vh\"\r\n    >\r\n      <!-- loading 元件 -->\r\n      <Loading :active=\"isLoading\" :is-full-page=\"false\" />\r\n      <div class=\"pay-result\">\r\n        <span class=\"material-icons-outlined green\">check_circle</span>\r\n        <p class=\"tit\">訂單支付成功</p>\r\n        <p class=\"tip\">我們將盡快為您發貨，收貨期間請保持手機暢通</p>\r\n        <p>\r\n          支付方式：<span>{{ order?.user?.payment_method }}</span>\r\n        </p>\r\n        <p>\r\n          本次交易金額：<span class=\"red\"\r\n            >${{ $currency(Math.round(order?.total)) }}</span\r\n          >\r\n        </p>\r\n        <button class=\"btn btn-secondary\" @click=\"$router.push('/')\">\r\n          回到首頁\r\n        </button>\r\n        <p class=\"alert\">\r\n          温馨提示：碁人館不會以訂單異常、系統升級為由要求您點擊任何網址進行退款操作，保護資產、謹慎操作。\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport PayStep from './components/PayStep.vue'\r\nimport { getOrderById } from '@/api/order'\r\nimport { useRoute } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nexport default {\r\n  name: 'PaidResult',\r\n  components: { PayStep },\r\n  setup() {\r\n    const isLoading = ref(true)\r\n\r\n    const store = useStore()\r\n    const route = useRoute()\r\n    const order = ref(null)\r\n    getOrderById(route.params.id).then((data) => {\r\n      order.value = data.order\r\n\r\n      // 刷新購物車\r\n      return store.dispatch('cart/findCart').then(() => {\r\n        isLoading.value = false\r\n      })\r\n    })\r\n\r\n    return {\r\n      isLoading,\r\n      order\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.pay-result {\r\n  padding: 100px 0;\r\n  background: #fff;\r\n  text-align: center;\r\n  > .material-icons-outlined {\r\n    font-size: 100px;\r\n  }\r\n  .green {\r\n    color: #1dc779;\r\n  }\r\n  .red {\r\n    color: #cf4444;\r\n  }\r\n  .tit {\r\n    font-size: 24px;\r\n  }\r\n  p {\r\n    line-height: 40px;\r\n    font-size: 16px;\r\n  }\r\n  .btn {\r\n    margin-top: 50px;\r\n  }\r\n  .alert {\r\n    font-size: 12px;\r\n    color: #999;\r\n    margin-top: 50px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Result.vue?vue&type=template&id=979c5b3a&scoped=true\"\nimport script from \"./Result.vue?vue&type=script&lang=js\"\nexport * from \"./Result.vue?vue&type=script&lang=js\"\n\nimport \"./Result.vue?vue&type=style&index=0&id=979c5b3a&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\小羊\\\\Desktop\\\\igo-shop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-979c5b3a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"pay-step p-3\">\r\n    <GoSteps :active=\"activeIndex\">\r\n      <GoStepsItem title=\"確認訂單\" />\r\n      <GoStepsItem title=\"進行付款\" />\r\n      <GoStepsItem title=\"完成購買\" />\r\n    </GoSteps>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'PayStep',\r\n  props: {\r\n    activeIndex: {\r\n      type: Number,\r\n      default: 1\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./PayStep.vue?vue&type=template&id=518b0f34\"\nimport script from \"./PayStep.vue?vue&type=script&lang=js\"\nexport * from \"./PayStep.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\小羊\\\\Desktop\\\\igo-shop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import request from '@/utils/request'\r\nconst path = `${process.env.VUE_APP_PATH}`\r\n\r\n// 前台 API\r\n/**\r\n * 建立訂單\r\n * @param {Object} order - 訂單資料表單\r\n * @returns Promise\r\n */\r\nexport const createOrder = (order) => {\r\n  return request(`/api/${path}/order`, 'post', { data: order })\r\n}\r\n\r\n/**\r\n * 根據 ID 查詢訂單\r\n * @param {String} orderId - 訂單ID\r\n * @returns Promise\r\n */\r\nexport const getOrderById = (orderId) => {\r\n  return request(`/api/${path}/order/${orderId}`, 'get')\r\n}\r\n\r\n/**\r\n * 付款\r\n * @param {String} orderId - 訂單ID\r\n * @returns Promise\r\n */\r\nexport const payOrder = (orderId) => {\r\n  return request(`/api/${path}/pay/${orderId}`, 'post')\r\n}\r\n\r\n// 後台 API\r\n/**\r\n * 取得後台訂單列表\r\n * @param {Integer} page - 當前頁碼\r\n * @returns Promise\r\n */\r\nexport const getOrdersList = (page = 1) => {\r\n  return request(`/api/${path}/admin/orders?page=${page}`, 'get')\r\n}\r\n\r\n/**\r\n * 修改訂單資訊 (付費狀態、訂購人資訊)\r\n * @param {Object} order - tempOrder\r\n * @returns Promise\r\n */\r\nexport const updateOrder = (order) => {\r\n  return request(`/api/${path}/admin/order/${order.id}`, 'put', { data: order })\r\n}\r\n\r\n/**\r\n * 刪除一筆訂單\r\n * @param {String} id - 訂單ID\r\n * @returns Promise\r\n */\r\nexport const deleteOrder = (id) => {\r\n  return request(`/api/${path}/admin/order/${id}`, 'delete')\r\n}\r\n\r\n/**\r\n * 刪除所有訂單\r\n * @returns Promise\r\n */\r\nexport const clearOrder = () => {\r\n  return request(`/api/${path}/admin/orders/all`, 'delete')\r\n}\r\n"],"sourceRoot":""}