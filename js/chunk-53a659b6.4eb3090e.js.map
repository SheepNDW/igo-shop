{"version":3,"sources":["webpack:///./src/views/front/login/Index.vue","webpack:///./src/views/front/login/components/LoginHeader.vue","webpack:///./src/views/front/login/components/LoginHeader.vue?4d8c","webpack:///./src/views/front/login/components/LoginFooter.vue","webpack:///./src/views/front/login/components/LoginFooter.vue?4610","webpack:///./src/views/front/login/Index.vue?c22f","webpack:///./src/views/front/login/components/LoginHeader.vue?a0ee","webpack:///./src/views/front/login/Index.vue?011d","webpack:///./src/api/login.js","webpack:///./src/views/front/login/components/LoginFooter.vue?bb72"],"names":["class","_createElementVNode","for","type","_createVNode","_component_LoginHeader","_component_Form","ref","onSubmit","$setup","errors","_hoisted_3","_component_Field","name","id","placeholder","username","$event","rules","_hoisted_5","_component_ErrorMessage","password","_hoisted_7","_hoisted_8","_component_LoginFooter","_createElementBlock","_component_RouterLink","to","_renderSlot","_ctx","undefined","__exports__","href","target","_hoisted_2","components","LoginHeader","LoginFooter","Form","Field","ErrorMessage","setup","formRef","form","reactive","router","useRouter","route","useRoute","login","value","validate","valid","signin","token","expired","document","cookie","Date","Message","text","push","query","redirectUrl","render","userInfo","request","userCheck"],"mappings":"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","file":"js/chunk-53a659b6.4eb3090e.js","sourcesContent":["<template>\r\n  <LoginHeader>後臺登入</LoginHeader>\r\n  <section class=\"login-section\">\r\n    <Form\r\n      ref=\"formRef\"\r\n      class=\"wrapper p-4 text-center\"\r\n      @submit=\"login\"\r\n      v-slot=\"{ errors }\"\r\n    >\r\n      <h1 class=\"h1 text-center bg-primary text-light p-2 mb-5\">帳號登入</h1>\r\n      <div class=\"form-floating mb-3\">\r\n        <Field\r\n          name=\"email\"\r\n          type=\"email\"\r\n          class=\"form-control\"\r\n          id=\"floatingInput\"\r\n          placeholder=\"name@example.com\"\r\n          v-model=\"form.username\"\r\n          rules=\"email|required\"\r\n          :class=\"{ 'is-invalid': errors['email'] }\"\r\n        />\r\n        <label for=\"floatingInput\">Email 信箱</label>\r\n        <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n      </div>\r\n      <div class=\"form-floating mb-5\">\r\n        <Field\r\n          name=\"密碼\"\r\n          type=\"password\"\r\n          class=\"form-control\"\r\n          id=\"floatingPassword\"\r\n          placeholder=\"密碼\"\r\n          v-model=\"form.password\"\r\n          rules=\"required\"\r\n          :class=\"{ 'is-invalid': errors['密碼'] }\"\r\n        />\r\n        <label for=\"floatingPassword\">密碼</label>\r\n        <ErrorMessage name=\"密碼\" class=\"invalid-feedback\"></ErrorMessage>\r\n      </div>\r\n      <button type=\"submit\" class=\"btn btn-primary col-6\">登入</button>\r\n    </Form>\r\n  </section>\r\n  <LoginFooter />\r\n</template>\r\n\r\n<script>\r\nimport { reactive, ref } from 'vue'\r\nimport { signin } from '@/api/login'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { Form, Field, ErrorMessage } from 'vee-validate'\r\nimport Message from '@/components/library/Message'\r\nimport LoginHeader from './components/LoginHeader.vue'\r\nimport LoginFooter from './components/LoginFooter.vue'\r\nexport default {\r\n  name: 'Login',\r\n  components: { LoginHeader, LoginFooter, Form, Field, ErrorMessage },\r\n  setup() {\r\n    const formRef = ref(null)\r\n    // 登入表單\r\n    const form = reactive({\r\n      username: '',\r\n      password: ''\r\n    })\r\n\r\n    const router = useRouter()\r\n    const route = useRoute()\r\n    const login = async () => {\r\n      const valid = await formRef.value.validate()\r\n      if (valid) {\r\n        try {\r\n          const { token, expired } = await signin(form)\r\n          document.cookie = `hexToken=${token}; expires=${new Date(expired)};`\r\n          Message({ type: 'success', text: '登入成功! ' })\r\n          router.push(route.query.redirectUrl || '/admin')\r\n        } catch (err) {\r\n          form.password = ''\r\n          Message({ type: 'error', text: '此帳號不存在或密碼錯誤! ' })\r\n        }\r\n      }\r\n    }\r\n\r\n    return { formRef, form, login }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-section {\r\n  background: url(../../../assets/images/login-banner.png) no-repeat center /\r\n    cover;\r\n  height: 30.5rem;\r\n  position: relative;\r\n  .wrapper {\r\n    width: 23.75rem;\r\n    background: #fff;\r\n    min-height: 25rem;\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 54px;\r\n    transform: translate3d(100px, 0, 0);\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <header class=\"login-header d-flex align-items-center\">\r\n    <div class=\"container d-flex align-items-end justify-content-space-between\">\r\n      <h1 class=\"logo h1\"><RouterLink to=\"/\">碁人館</RouterLink></h1>\r\n      <h3 class=\"sub\"><slot /></h3>\r\n      <RouterLink class=\"entry\" to=\"/\">\r\n        進入網站首頁\r\n        <i class=\"material-icons-outlined\">arrow_forward_ios</i>\r\n        <i class=\"material-icons-outlined\">arrow_forward_ios</i>\r\n      </RouterLink>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'LoginHeader'\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import url('https://fonts.googleapis.com/css2?family=RocknRoll+One&display=swap');\r\n.login-header {\r\n  height: 8rem;\r\n  overflow-x: hidden;\r\n  background: #fff;\r\n  border-bottom: 1px solid #e4e4e4;\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n  .logo {\r\n    font-family: 'RocknRoll One', sans-serif;\r\n  }\r\n  .sub {\r\n    flex: 1;\r\n    font-size: 1.5rem;\r\n    font-weight: normal;\r\n    margin-left: 20px;\r\n    color: #666;\r\n  }\r\n  .entry {\r\n    width: 7.5rem;\r\n    font-size: 1rem;\r\n    i {\r\n      font-size: 14px;\r\n      color: #333;\r\n      letter-spacing: -5px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./LoginHeader.vue?vue&type=template&id=646eff7d&scoped=true\"\nimport script from \"./LoginHeader.vue?vue&type=script&lang=js\"\nexport * from \"./LoginHeader.vue?vue&type=script&lang=js\"\n\nimport \"./LoginHeader.vue?vue&type=style&index=0&id=646eff7d&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\小羊\\\\Desktop\\\\igo-shop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-646eff7d\"]])\n\nexport default __exports__","<template>\r\n  <footer class=\"login-footer\">\r\n    <div class=\"container\">\r\n      <p>本站僅為個人練習使用，無任何商業用途</p>\r\n      <p>\r\n        CopyRight &copy; 碁人館\r\n        <a href=\"https://github.com/SheepNDW/igo-shop\" target=\"_blank\">\r\n          <i class=\"fab fa-github fs-4\"></i>\r\n        </a>\r\n      </p>\r\n    </div>\r\n  </footer>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'LoginFooter'\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-footer {\r\n  overflow-x: hidden;\r\n  padding: 30px 0 50px;\r\n  background: #fff;\r\n  p {\r\n    text-align: center;\r\n    color: #999;\r\n    padding-top: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./LoginFooter.vue?vue&type=template&id=b2c7e350&scoped=true\"\nimport script from \"./LoginFooter.vue?vue&type=script&lang=js\"\nexport * from \"./LoginFooter.vue?vue&type=script&lang=js\"\n\nimport \"./LoginFooter.vue?vue&type=style&index=0&id=b2c7e350&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\小羊\\\\Desktop\\\\igo-shop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b2c7e350\"]])\n\nexport default __exports__","import { render } from \"./Index.vue?vue&type=template&id=7eb88486&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=7eb88486&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\小羊\\\\Desktop\\\\igo-shop\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7eb88486\"]])\n\nexport default __exports__","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LoginHeader.vue?vue&type=style&index=0&id=646eff7d&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Index.vue?vue&type=style&index=0&id=7eb88486&lang=scss&scoped=true\"","import request from '@/utils/request'\r\n// const path = 'sheep-api'\r\n\r\n/**\r\n * 登入API\r\n * @param {Object} userInfo - 登入表單(username, password)\r\n * @returns Promise\r\n */\r\nexport const signin = (userInfo) => {\r\n  return request('/admin/signin', 'post', userInfo)\r\n}\r\n\r\n/**\r\n * 驗證登入狀態\r\n * @returns Promise\r\n */\r\nexport const userCheck = () => {\r\n  return request('/api/user/check', 'post')\r\n}\r\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LoginFooter.vue?vue&type=style&index=0&id=b2c7e350&lang=scss&scoped=true\""],"sourceRoot":""}